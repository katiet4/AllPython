import os
letters = {' ' : '32', '!' : '33','"' : '34','#' : '35','$' : '36', '%' : '37','&' : '38','\'' : '39',
	'(' : '40', ')' : '41','*' : '42','+' : '43',',' : '44', '-' : '45','.' : '46','/' : '47',
	'0' : '48', '1' : '49','2' : '50','3' : '51','4' : '52', '5' : '53','6' : '54','7' : '55',
	'8' : '56', '9' : '57',':' : '58',';' : '59','<' : '60', '=' : '61','>' : '62','?' : '63',
	'@' : '64', 'A' : '65','B' : '66','C' : '67','D' : '68', 'E' : '69','F' : '70','G' : '71',
	'H' : '72', 'I' : '73','J' : '74','K' : '75','L' : '76', 'M' : '77','N' : '78','O' : '79',
	'P' : '80', 'Q' : '81','R' : '82','S' : '83','T' : '84', 'U' : '85','V' : '86','W' : '87',
	'X' : '88', 'Y' : '89','Z' : '90','[' : '91',"\\" : '92', ']' : '93','^' : '94','_' : '95',
	'`' : '96', 'a' : '97','b' : '98','c' : '99','d' : '100', 'e' : '101','f' : '102','g' : '103',
	'h' : '104', 'i' : '105','j' : '106','k' : '107','l' : '108', 'm' : '109','n' : '110','o' : '111',
	'p' : '112', 'q' : '113','r' : '114','s' : '115','t' : '116', 'u' : '117','v' : '118','w' : '119',
	'x' : '120', 'y' : '121','z' : '122','{' : '123','|' : '124', '}' : '125','~' : '126','Г' : '127',
	'Д' : '128','Е' : '129','Ё' : '130','Ж' : '131','З' : '132','И' : '133','Й' : '134','К' : '135',
	'Л' : '136','М' : '137','Н' : '138','О' : '139','П' : '140','Р' : '141','С' : '142','Т' : '143',
	'У' : '144','Ф' : '145','Х' : '146','Ц' : '147','Ч' : '148','Ш' : '149','Щ' : '150','Ъ' : '151','Ы' : '152',
	'Ь' : '153','Э' : '154','Ю' : '155','Я' : '156','а' : '157','б' : '158','в' : '159','г' : '160','д' : '161','е' : '162',
	'ё' : '163','ж' : '164','з' : '165','и' : '166','й' : '167','к' : '168','л' : '169','м' : '170','н' : '171',
	'о' : '172','п' : '173','р' : '174','с' : '175','т' : '176','у' : '177','ф' : '178','х' : '179','ц' : '180','ч' : '181','ш' : '182','щ' : '183',
	'ъ' : '184','ы' : '185','ь' : '186','А' : '187','Б' : '188','В' : '189','\n' : '190','э' : '191','ю' : '192','я' : '193', '':'194'
	, 'џ':'195', '':'196', 'ґ':'197', '‰':'198', 'љ':'199', 'Ђ':'200', '€':'201', '‹':'202', '~':'203', '':'204', '':'205'}
def searchs(lists,key = '',nexts = '',CWD = os.getcwd(),f = 'TXT'):
	formats = f.split(',')
	charreturn = {}
	for i in letters:
		charreturn[letters[i]] = i
	CWD = CWD + nexts
	All = ''
	AllEnd = []
	array = []
	for i in lists:
		try:
			searchs(os.listdir(CWD + '\\' + i),key,str('\\'+i), CWD)
		except Exception as e:
			#print(CWD + '\\' + i + '\n')
			types = i[-3]+i[-2]+i[-1]
			#print(types)
			if types in formats:
				with open(CWD + '\\' + i,'r') as read:
					for re in read :
						All += re
				array = All.split('*')
				for r1 in array:
					try:
						if charreturn[r1] == '\n':
							AllEnd.append('\n')
						else:
							AllEnd.append(charreturn[r1])
					except Exception as e:
						AllEnd.append('\n')
			with open(CWD + '\\' + i,'w') as write:
				print(''.join(AllEnd),file=write)	
				All = ''
			AllEnd.clear()
			continue
f = input('formats: ')
arrDir = os.listdir(os.getcwd())
searchs(arrDir,f = f)